{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEAD,EAAAE,OAAOC,KAAK,CACVC,SAAS,IAGX,MAAMC,EAAaC,SAASC,cAAc,qBACpCC,EAAYF,SAASC,cAAc,oBACnCE,EAAcH,SAASC,cAAc,sBACrCG,EAAOJ,SAASC,cAAc,SAEpC,IAAII,EAAa,EACbC,EAAY,EACZC,EAAS,EAiCb,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAS,CAACC,EAASC,KAC5BC,YAAY,KACNN,EACFI,EAAS,C,SAACN,E,MAAUC,IAEpBM,EAAQ,C,SAACP,E,MAAUC,MAEpBA,MAxCPN,EAAKc,iBAAiB,UAiBtB,SAAqBC,GACnBA,EAAEC,iBAEF,IAAK,IAAIC,EAAI,EAAGA,GAAKd,EAAQc,GAAK,EAChCb,EAAea,EAAIhB,EAAaC,GAAWe,EAAE,IAC5CC,MAAK,EAACb,SAAEA,EAAQC,MAAEA,MACjBhB,EAAAE,OAAO2B,QAAQ,uBAAqBd,QAAiBC,UAEtDc,OAAM,EAACf,SAAEA,EAAQC,MAAEA,MAClBhB,EAAAE,OAAO6B,QAAQ,sBAAoBhB,QAAeC,aAzBxDX,EAAWmB,iBAAiB,UAI5B,SAAmBC,GACjBd,EAAaqB,OAAOP,EAAEQ,cAAcC,UAJtC1B,EAAUgB,iBAAiB,UAO3B,SAAkBC,GAChBb,EAAYoB,OAAOP,EAAEQ,cAAcC,UAPrCzB,EAAYe,iBAAiB,UAU7B,SAAoBC,GAClBZ,EAASmB,OAAOP,EAAEQ,cAAcC","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nNotify.init({\n  useIcon: false,\n  });\n\nconst delayInput = document.querySelector(\"input[name=delay]\")\nconst stepInput = document.querySelector(\"input[name=step]\")\nconst amountInput = document.querySelector(\"input[name=amount]\")\nconst form = document.querySelector(\".form\")\n\nlet firstDelay = 0\nlet delayStep = 0\nlet amount = 0\n\nform.addEventListener(\"submit\", submitForm)\ndelayInput.addEventListener(\"change\", setDelay)\nstepInput.addEventListener(\"change\", setStep)\namountInput.addEventListener(\"change\", setAmount)\n\nfunction setDelay (e) {\n  firstDelay = Number(e.currentTarget.value)\n}\n\nfunction setStep (e) {\n  delayStep = Number(e.currentTarget.value)\n}\n\nfunction setAmount (e) {\n  amount = Number(e.currentTarget.value)\n}\n\nfunction submitForm (e) {\n  e.preventDefault()\n\n  for (let i = 1; i <= amount; i += 1) {\n    createPromise (i, (firstDelay + delayStep*(i-1)))\n    .then(({ position, delay }) => {\n      Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`)\n    })\n    .catch(({ position, delay }) => {\n      Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`)\n    });\n  } \n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise ((resolve, reject) => {\n    setTimeout (() => {\n      if (shouldResolve) {\n        resolve ({position, delay})\n      } else {\n        reject ({position, delay})\n      }\n    }, delay)\n  })\n}"],"names":["$iQIUW","parcelRequire","Notify","init","useIcon","$47d4ff9957288465$var$delayInput","document","querySelector","$47d4ff9957288465$var$stepInput","$47d4ff9957288465$var$amountInput","$47d4ff9957288465$var$form","$47d4ff9957288465$var$firstDelay","$47d4ff9957288465$var$delayStep","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","addEventListener","e","preventDefault","i","then","success","catch","failure","Number","currentTarget","value"],"version":3,"file":"03-promises.ae7313ab.js.map"}